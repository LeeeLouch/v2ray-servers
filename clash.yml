mode: rule
log-level: info
ignore-resolve-fail: false
ipv6: false
dns:
  enable: true
  ipv6: false
  # enhanced-mode: redir-host
  fallback-filter:
    geoip: true
    geoip-code: IR
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32
      - 127.0.0.1/32
  #   domain:
  #     - +.google.com
  #     - +.facebook.com
  #     - +.youtube.com
  #     - +.gvt1.com
  #     - '+.facebook.com'
  #     - '+.twitter.com'
  #     - '+.youtube.com'
  #     - '+.bing.com'
  # fake-ip-filter:
  #   - "*.lan"
  #   - stun.*.*.*
  #   - stun.*.*
  #   - time.windows.com
  #   - time.nist.gov
  #   - time.apple.com
  #   - time.asia.apple.com
  #   - "*.openwrt.pool.ntp.org"
  #   - pool.ntp.org
  #   - ntp.ubuntu.com
  #   - time1.apple.com
  #   - time2.apple.com
  #   - time3.apple.com
  #   - time4.apple.com
  #   - time5.apple.com
  #   - time6.apple.com
  #   - time7.apple.com
  #   - time1.google.com
  #   - time2.google.com
  #   - time3.google.com
  #   - time4.google.com
  #   - api.joox.com
  #   - joox.com
  #   - "*.xiami.com"
  #   - "*.msftconnecttest.com"
  #   - "*.msftncsi.com"
  #   - "*.*.stun.playstation.net"
  #   - xbox.*.*.microsoft.com
  #   - "*.ipv6.microsoft.com"
  #   - speedtest.cros.wr.pvp.net
  nameserver:
    # - 1.1.1.1
    # - 8.8.8.8
    # - 9.9.9.9
    # - 208.67.222.222
    # - https://dns.google/dns-query
    # - https://cloudflare-dns.com/dns-query
    # - https://dns.quad9.net/dns-query
    # - https://doh.opendns.com/dns-query
    - https://basic.rethinkdns.com/dns-query
  fallback:
    # - 1.1.1.1
    # - 8.8.8.8
    - https://basic.rethinkdns.com/dns-query
    # - https://dns.google/dns-query
    # - https://cloudflare-dns.com/dns-query
    # - https://doh.dns.sb/dns-query
    # - https://dns.quad9.net/dns-query
    # - https://doh.opendns.com/dns-query

###flags###
# de 🇩🇪 - id 🇮🇩 - ca 🇨🇦 - hk 🇭🇰 - my 🇲🇾 - jp 🇯🇵 - uk 🇬🇧 - ua 🇺🇦 - se 🇸🇪 - sp 🇪🇸 - us 🇺🇸 - za 🇿🇦 - sg 🇸🇬 - pl 🇵🇱 - fr 🇫🇷 - kr 🇰🇷 - nl 🇳🇱 - au 🇦🇺 - ae 🇦🇪 - th 🇹🇭
proxies: 
  - {"type":"trojan","name":"mainssh🇸🇬sg 01-06 (071)","server":"sgtws.mainssh.xyz","port":443,"password":"mainssh-gdsfgwefs","udp":true,"skip-cert-verify":true,"sni":"sgtws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"sgtws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇫🇷fr 01-06 (071)","server":"frtws.mainssh.xyz","port":443,"password":"mainssh-nkjnnkjn","udp":true,"skip-cert-verify":true,"sni":"frtws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"frtws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇨🇦ca 01-06 (072)","server":"catws.mainssh.xyz","port":443,"password":"mainssh-vxcwdadsa","udp":true,"skip-cert-verify":true,"sni":"catws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"catws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇨🇦ca 01-06 (071)","server":"catws.mainssh.xyz","port":443,"password":"mainssh-fsdvxczv","udp":true,"skip-cert-verify":true,"sni":"catws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"catws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇬🇧uk 01-06 (071)","server":"uktws.mainssh.xyz","port":443,"password":"mainssh-cnxxmccx","udp":true,"skip-cert-verify":true,"sni":"uktws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"uktws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇬🇧uk 01-06 (072)","server":"uktws.mainssh.xyz","port":443,"password":"mainssh-vxczvsdas","udp":true,"skip-cert-verify":true,"sni":"uktws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"uktws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇫🇷fr 01-06 (072)","server":"frtws.mainssh.xyz","port":443,"password":"mainssh-fsdfqwqsd","udp":true,"skip-cert-verify":true,"sni":"frtws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"frtws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇸🇬sg 01-06 (073)","server":"frtws.mainssh.xyz","port":443,"password":"mainssh-rwwqwqd","udp":true,"skip-cert-verify":true,"sni":"frtws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"frtws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇩🇪de 01-06 (071)","server":"getws.mainssh.xyz","port":443,"password":"mainssh-fdsfsfvx","udp":true,"skip-cert-verify":true,"sni":"getws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"getws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇩🇪de 01-06 (072)","server":"getws.mainssh.xyz","port":443,"password":"mainssh-ewfsdfsda","udp":true,"skip-cert-verify":true,"sni":"getws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"getws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇩🇪de 01-06 (073)","server":"getws.mainssh.xyz","port":443,"password":"mainssh-vcxzvwdwqd","udp":true,"skip-cert-verify":true,"sni":"getws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"getws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇩🇪de 01-06 (074)","server":"getws.mainssh.xyz","port":443,"password":"mainssh-gdsfwqdsa","udp":true,"skip-cert-verify":true,"sni":"getws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"getws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇩🇪de 01-06 (075)","server":"getws.mainssh.xyz","port":443,"password":"mainssh-vqwdasvb","udp":true,"skip-cert-verify":true,"sni":"getws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"getws.mainssh.xyz"}}}
  - {"type":"trojan","name":"mainssh🇩🇪de 01-06 (076)","server":"getws.mainssh.xyz","port":443,"password":"mainssh-rwqrqvbxzc","udp":true,"skip-cert-verify":true,"sni":"getws.mainssh.xyz","network":"ws","ws-opts":{"path":"/trojan","headers":{"host":"getws.mainssh.xyz"}}}
  
  - {"type":"vmess","name":"sshstores🇩🇪de 01-07 (061)","ws-opts":{"path":"/vmess","headers":{"host":"sni.cloudflare.com"}},"server":"de.vmess2.xservs.xyz","port":"443","uuid":"9199a2f4-e79a-4627-83b5-e23e9b0e3c6c","alterId":"0","cipher":"auto","network":"ws","udp":true,"tls":true,"skip-cert-verify":true}
  - {"type":"vmess","name":"sshstores🇩🇪de 01-07 (062)","ws-opts":{"path":"/vmess","headers":{"host":"sni.cloudflare.com"}},"server":"de.vmess2.xservs.xyz","port":"443","uuid":"c8d78506-6f0d-46ff-9ef4-8ddfafe4095b","alterId":"0","cipher":"auto","network":"ws","udp":true,"tls":true,"skip-cert-verify":true}
  - {"type":"vmess","name":"sshstores🇩🇪de 01-07 (063)","ws-opts":{"path":"/vmess","headers":{"host":"sni.cloudflare.com"}},"server":"de.vmess2.xservs.xyz","port":"443","uuid":"6528ade7-27c4-4ed6-97af-62cace682a50","alterId":"0","cipher":"auto","network":"ws","udp":true,"tls":true,"skip-cert-verify":true}
  - {"type":"vmess","name":"sshstores🇩🇪de 01-07 (064)","ws-opts":{"path":"/vmess","headers":{"host":"sni.cloudflare.com"}},"server":"de.vmess2.xservs.xyz","port":"443","uuid":"a2505b38-7b84-4096-9ca2-7a71fcd4ea03","alterId":"0","cipher":"auto","network":"ws","udp":true,"tls":true,"skip-cert-verify":true}
  - {"type":"vmess","name":"sshstores🇩🇪de 01-07 (065)","ws-opts":{"path":"/vmess","headers":{"host":"sni.cloudflare.com"}},"server":"de.vmess2.xservs.xyz","port":"443","uuid":"b8f34836-8461-4e52-9f48-980958e4c4f1","alterId":"0","cipher":"auto","network":"ws","udp":true,"tls":true,"skip-cert-verify":true}
  - {"type":"vmess","name":"sshstores🇬🇧uk 01-07 (062)","ws-opts":{"path":"/vmess","headers":{"host":"sni.cloudflare.com"}},"server":"ln.vmess1.xservs.xyz","port":"443","uuid":"52387287-2d45-4cc4-855f-b421b32da9ee","alterId":"0","cipher":"auto","network":"ws","udp":true,"tls":true,"skip-cert-verify":true}
  - {"type":"vmess","name":"sshstores🇬🇧uk 01-07 (061)","ws-opts":{"path":"/vmess","headers":{"host":"sni.cloudflare.com"}},"server":"ln.vmess1.xservs.xyz","port":"443","uuid":"ccd97e88-1831-4315-9d84-dbd31981f66c","alterId":"0","cipher":"auto","network":"ws","udp":true,"tls":true,"skip-cert-verify":true}
  - {"type":"vmess","name":"sshstores🇨🇦ca 01-07 (061)","ws-opts":{"path":"/vmess","headers":{"host":"sni.cloudflare.com"}},"server":"ca.vmess1.xservs.xyz","port":"443","uuid":"0e92d2e7-f325-4693-8988-45a07332989a","alterId":"0","cipher":"auto","network":"ws","udp":true,"tls":true,"skip-cert-verify":true}
  - {"type":"vmess","name":"sshstores🇨🇦ca 01-07 (062)","ws-opts":{"path":"/vmess","headers":{"host":"sni.cloudflare.com"}},"server":"ca.vmess1.xservs.xyz","port":"443","uuid":"bce57c91-6c2d-4ae5-8906-795b6cfeaf20","alterId":"0","cipher":"auto","network":"ws","udp":true,"tls":true,"skip-cert-verify":true}
  - {"type":"vmess","name":"sshstores🇨🇦ca 01-07 (063)","ws-opts":{"path":"/vmess","headers":{"host":"sni.cloudflare.com"}},"server":"ca.vmess1.xservs.xyz","port":"443","uuid":"dbddf714-9c49-4c7c-98f0-bd10e9922be8","alterId":"0","cipher":"auto","network":"ws","udp":true,"tls":true,"skip-cert-verify":true}

proxy-groups:
  - name: Select
    type: select
    # disable-udp: true
    proxies:
      - mainssh🇸🇬sg 01-06 (071)
      - mainssh🇫🇷fr 01-06 (071)
      - mainssh🇨🇦ca 01-06 (072)
      - mainssh🇨🇦ca 01-06 (071)
      - mainssh🇬🇧uk 01-06 (071)
      - mainssh🇬🇧uk 01-06 (072)
      - mainssh🇫🇷fr 01-06 (072)
      - mainssh🇸🇬sg 01-06 (073)
      - mainssh🇩🇪de 01-06 (071)
      - mainssh🇩🇪de 01-06 (072)
      - mainssh🇩🇪de 01-06 (073)
      - mainssh🇩🇪de 01-06 (074)
      - mainssh🇩🇪de 01-06 (075)
      - mainssh🇩🇪de 01-06 (076)
      - sshstores🇩🇪de 01-07 (061)
      - sshstores🇩🇪de 01-07 (062)
      - sshstores🇩🇪de 01-07 (063)
      - sshstores🇩🇪de 01-07 (064)
      - sshstores🇩🇪de 01-07 (065)
      - sshstores🇬🇧uk 01-07 (062)
      - sshstores🇬🇧uk 01-07 (061)
      - sshstores🇨🇦ca 01-07 (061)
      - sshstores🇨🇦ca 01-07 (062)
      - sshstores🇨🇦ca 01-07 (063)
      - TCP
      - ⚡️Auto⚡️

  - name: TCP
    type: select
    disable-udp: true
    proxies:
      - mainssh🇸🇬sg 01-06 (071)
      - mainssh🇫🇷fr 01-06 (071)
      - mainssh🇨🇦ca 01-06 (072)
      - mainssh🇨🇦ca 01-06 (071)
      - mainssh🇬🇧uk 01-06 (071)
      - mainssh🇬🇧uk 01-06 (072)
      - mainssh🇫🇷fr 01-06 (072)
      - mainssh🇸🇬sg 01-06 (073)
      - mainssh🇩🇪de 01-06 (071)
      - mainssh🇩🇪de 01-06 (072)
      - mainssh🇩🇪de 01-06 (073)
      - mainssh🇩🇪de 01-06 (074)
      - mainssh🇩🇪de 01-06 (075)
      - mainssh🇩🇪de 01-06 (076)
      - sshstores🇩🇪de 01-07 (061)
      - sshstores🇩🇪de 01-07 (062)
      - sshstores🇩🇪de 01-07 (063)
      - sshstores🇩🇪de 01-07 (064)
      - sshstores🇩🇪de 01-07 (065)
      - sshstores🇬🇧uk 01-07 (062)
      - sshstores🇬🇧uk 01-07 (061)
      - sshstores🇨🇦ca 01-07 (061)
      - sshstores🇨🇦ca 01-07 (062)
      - sshstores🇨🇦ca 01-07 (063)

  - name: ⚡️Auto⚡️
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 600
    proxies:
      - mainssh🇸🇬sg 01-06 (071)
      - mainssh🇫🇷fr 01-06 (071)
      - mainssh🇨🇦ca 01-06 (072)
      - mainssh🇨🇦ca 01-06 (071)
      - mainssh🇬🇧uk 01-06 (071)
      - mainssh🇬🇧uk 01-06 (072)
      - mainssh🇫🇷fr 01-06 (072)
      - mainssh🇸🇬sg 01-06 (073)
      - mainssh🇩🇪de 01-06 (071)
      - mainssh🇩🇪de 01-06 (072)
      - mainssh🇩🇪de 01-06 (073)
      - mainssh🇩🇪de 01-06 (074)
      - mainssh🇩🇪de 01-06 (075)
      - mainssh🇩🇪de 01-06 (076)
      - sshstores🇩🇪de 01-07 (061)
      - sshstores🇩🇪de 01-07 (062)
      - sshstores🇩🇪de 01-07 (063)
      - sshstores🇩🇪de 01-07 (064)
      - sshstores🇩🇪de 01-07 (065)
      - sshstores🇬🇧uk 01-07 (062)
      - sshstores🇬🇧uk 01-07 (061)
      - sshstores🇨🇦ca 01-07 (061)
      - sshstores🇨🇦ca 01-07 (062)
      - sshstores🇨🇦ca 01-07 (063)

rules:
  - MATCH, Select